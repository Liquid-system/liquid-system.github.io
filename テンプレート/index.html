<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=ja-jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>日付フォーマットの変更できるようにした。 | 時祷書</title><link rel=stylesheet href=https://liquid-system.github.io/css/style.css><link rel=stylesheet href=https://liquid-system.github.io/css/custom.css><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Noto%20Sans%20JP&display=swap" rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=https://liquid-system.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://liquid-system.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://liquid-system.github.io/favicon-16x16.png><link rel=manifest href=https://liquid-system.github.io/site.webmanifest><link rel=mask-icon href=https://liquid-system.github.io/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://liquid-system.github.io/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88/><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"></head><body><section class=section><div class=container><nav id=nav-main class=nav><div id=nav-name class=nav-left><a id=nav-anchor class=nav-item href=https://liquid-system.github.io><h1 id=nav-heading class="title is-4">時祷書</h1></a></div><div class=nav-right><nav id=nav-items class="nav-item level is-mobile"></nav></div></nav><nav class=nav></nav></div><script src=https://liquid-system.github.io/js/navicon-shift.js></script></section><section class=section><div class=container><div class="subtitle tags is-6 is-pulled-right"><a class="subtitle is-6" href=https://liquid-system.github.io/tags/tech/>#tech</a></div><h2 class="subtitle is-6">02/28</h2><h1 class=title>日付フォーマットの変更できるようにした。</h1><div class=content><h2 id=hugoテンプレートのメモ>hugoテンプレートのメモ</h2><p>このサイトは<a href=https://github.com/ribice/kiss>kiss</a>というテーマを使用している。日にちのフォーマットが気に入らないのでYYYY-MM-DDにしたかったのだが、そこそこ苦労したのでメモ</p><h2 id=結論>結論</h2><p>こうした</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span>    &lt;<span style=color:#a6e22e>h2</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;subtitle is-6&#34;</span>&gt;
</span></span><span style=display:flex><span>      {{<span style=color:#f92672>-</span> <span style=color:#960050;background-color:#1e0010>$</span>.<span style=color:#a6e22e>Site</span>.<span style=color:#a6e22e>Params</span>.<span style=color:#a6e22e>Info</span>.<span style=color:#a6e22e>dateFormat</span> | <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#34;January 2, 2006&#34;</span> | .<span style=color:#a6e22e>Date</span>.<span style=color:#a6e22e>Format</span> <span style=color:#f92672>-</span>}}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h2</span>&gt;
</span></span></code></pre></div><p>hugoではgolangのtext/templateを使って表示するひな形を設定している。(pythonで言うjinja2みたいなもの)<br>その際に日付のフォーマットを設定するのだが<code>January 2, 2006</code>と、どう見ても特定の日付にしか見えない形式にしなければならない。<br>kissではすでにひな形からフォーマット指定されてあったので元のhtmlごと変更しなければならなかった。<br>上記のコードではgoテンプレートで使われるパイプを使用し、変数<code>$.Site.Params.Info.dateFormat</code>をhugoの関数<code>default</code>に渡している</p></div></div></section><section class=section><div class="container has-text-centered"><p>&copy;2022 Liquid-system | <a href=https://github.com/Liquid-system>github</a> | <a href=https://misskey.io/@Liquid_system>misskey.io</a></p></div></section></body></html>